// --- 修改後的 saveOrder 函式 (其餘 HTML 代碼保持不變) ---
window.saveOrder = () => {
    const name = document.getElementById('order-name').value;
    const product = document.getElementById('order-product').value;
    const pickup = document.getElementById('pickup-date').value;
    const orderDate = document.getElementById('order-date').value;
    
    if (!name || !product || !pickup) { 
        alert("請填寫姓名、品名與取貨日期"); 
        return; 
    }

    fetch(GOOGLE_SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify({
            action: "saveOrder", 
            name: name, 
            product: product,
            orderTime: orderDate,
            pickupTime: pickup, 
            note: document.getElementById('order-note').value
        })
    }).then(res => res.text()).then(msg => { 
        alert(msg); // 這裡會顯示「客訂資料已儲存並發送 LINE 通知」
        location.reload(); 
    });
};
